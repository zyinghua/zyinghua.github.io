<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Conda Setup Diary | Yinghua Zhou </title> <meta name="author" content="Yinghua Zhou"> <meta name="description" content="A guide on setting up conda environments on a computing server for AI research"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.jpg?4a9a55aad5a5c55b3b627347fdf25860"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://zyinghua.github.io/blog/2023/conda-setup-diary/"> <script src="/assets/js/theme.js?cf5cbd73b0ea60e4cb40a0e50b7681ca"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Yinghua</span> Zhou </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="wrapper"> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Conda Setup Diary</h1> <p class="post-meta"> Created on September 13, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/conda"> <i class="fa-solid fa-hashtag fa-sm"></i> conda</a>   <a href="/blog/tag/computing-server"> <i class="fa-solid fa-hashtag fa-sm"></i> computing-server</a>   <a href="/blog/tag/research-experiments"> <i class="fa-solid fa-hashtag fa-sm"></i> research-experiments</a>   ·   <a href="/blog/category/tutorials"> <i class="fa-solid fa-tag fa-sm"></i> tutorials</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h4 id="this-is-the-general-steps-on-top-of-my-head-that-i-followed-to-set-up-the-conda-environment-on-a-computing-server-for-a-new-user-account-which-might-be-commonly-encountered-when-doing-ai-research">This is the general steps on top of my head, that I followed to set up the conda environment on a computing server for a new user account, which might be commonly encountered when doing AI research.</h4> <hr> <ol> <li>Log onto the server via SSH: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> ssh &lt;username&gt;@&lt;server-ip&gt; <span class="nt">-p</span> &lt;port&gt;
</code></pre></div> </div> <p>Make sure you activate the VPN if necessary. You will then be prompted to enter the password for the user account.</p> </li> <li>Once logged in, you will need to set up for environments, in AI research, typically we use conda. Make sure to download the latest version of miniconda from the official website, and install it on the server. At this time, the command to download the latest miniconda is: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
</code></pre></div> </div> <p>Once downloaded, run the script as:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="nb">chmod</span> +x Miniconda3-latest-Linux-x86_64.sh
 ./Miniconda3-latest-Linux-x86_64.sh
</code></pre></div> </div> <p>Once you run the installer, you will be presented with a series of prompts. It’s generally safe to accept the defaults. When asked if you’d like to prepend the Miniconda3 install location to PATH in your ~/.bashrc, you can opt to say ‘yes’. This ensures that you can activate Conda from any new terminal.</p> </li> <li>Close and reopen your terminal or use the command to reload the profile: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>conda init bash
</code></pre></div> </div> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/.bashrc
</code></pre></div> </div> </li> <li>Once conda is installed, you can create a new environment for your project, by running: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>conda create <span class="nt">-n</span> &lt;env-name&gt; <span class="nv">python</span><span class="o">=</span>&lt;python-version&gt; <span class="nv">tensorflow</span><span class="o">=</span>&lt;tensorflow-version&gt;
</code></pre></div> </div> <p>The python and tensorflow version specification are optional, when specified, the environment will be created with the specified python and tensorflow version.</p> <p>Or if you have a environment.yaml file in the repo, you can do:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>conda <span class="nb">env </span>create <span class="nt">-f</span> environment.yaml
</code></pre></div> </div> <p>which takes care of the installation of all necessary packages.</p> </li> <li>you can then activate the environment by running: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>conda activate &lt;env-name&gt;
</code></pre></div> </div> <p>And deactivate it by running:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> conda deactivate
</code></pre></div> </div> </li> </ol> <h4 id="note-you-may-need-to-run-source-bashrc-at-the-time-you-enter-the-server-to-make-sure-the-conda-command-is-available"> <strong>Note:</strong> You may need to run <code class="language-plaintext highlighter-rouge">source ~/.bashrc</code> at the time you enter the server, to make sure the conda command is available.</h4> <hr> <h3 id="some-useful-commands">Some useful commands:</h3> <ol> <li> <p>Install package via conda:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ conda install &lt;package-name&gt;=&lt;package-version:optional&gt;</code></p> </blockquote> <p>To uninstall:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ conda uninstall &lt;package-name&gt;</code></p> </blockquote> </li> <li> <p>Install package via pip:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ pip install &lt;package-name&gt;=&lt;package-version:optional&gt;</code></p> </blockquote> </li> <li> <p>Check a specific package installed:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ conda list &lt;package-name&gt;</code></p> </blockquote> </li> <li> <p>Check all conda env created:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ conda env list</code></p> </blockquote> </li> <li> <p>Remove a conda env:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ conda env remove -n &lt;env-name&gt;</code></p> </blockquote> </li> <li> <p>Check current GPU status on the server:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">~$ nvidia-smi</code></p> </blockquote> <p>OR check live gpu status:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">gpustat -i</code></p> </blockquote> </li> <li> <p>Open up a sub-window system:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">tmux</code></p> </blockquote> <p>within tmux:</p> <ul> <li> <p>Create a new window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">Ctrl + b</code> then <code class="language-plaintext highlighter-rouge">c</code></p> </blockquote> </li> <li> <p>Switch to the next window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">Ctrl + b</code> then <code class="language-plaintext highlighter-rouge">n</code></p> </blockquote> </li> <li> <p>Switch to the previous window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">Ctrl + b</code> then <code class="language-plaintext highlighter-rouge">p</code></p> </blockquote> </li> <li> <p>Detach from the current window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">Ctrl + b</code> then <code class="language-plaintext highlighter-rouge">d</code></p> </blockquote> </li> <li> <p>Delete the current window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">exit</code></p> </blockquote> </li> </ul> <p>Outside tmux:</p> <ul> <li> <p>Check all the windows:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">tmux ls</code></p> </blockquote> </li> <li> <p>Attach to a specific window:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">tmux attach -t &lt;window-name&gt;</code></p> </blockquote> </li> </ul> </li> <li> <p>Run a python script using specific GPU:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">CUDA_VISIBLE_DEVICES=&lt;gpu-id1&gt;,&lt;gpu-id2&gt;,... python &lt;script-name&gt;.py</code></p> </blockquote> </li> <li> <p>If you ever need to kill a process, you can use the command:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">kill -9 &lt;process-id&gt;</code></p> </blockquote> <p>Process ID can be found by calling <code class="language-plaintext highlighter-rouge">nvidia-smi</code>.</p> </li> <li> <p>To upload a file from local to the server:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">scp -P &lt;port&gt; &lt;local-file-path&gt; &lt;username&gt;@&lt;server-ip&gt;:&lt;server-file-path&gt;</code></p> </blockquote> <p>e.g.:</p> <blockquote> <p><code class="language-plaintext highlighter-rouge">scp -P 22 /Users/username/Desktop/test.txt username@server-ip:~/home/username/test.txt</code></p> </blockquote> </li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/git-access-with-vpn-proxy/">Git access with VPN proxy</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/understanding-diffusion-models/">Understanding Diffusion Models</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/grad-nan-solutions/">Potential Solutions when encountering the nan gradient problem with pytorch</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/leetcode-904/">Leetcode 904: Fruit Into Baskets</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/leetcode-1359/">Leetcode 1359: Count All Valid Pickup and Delivery Options</a> </li> </div> </div> </div> <footer class="sticky-bottom" role="contentinfo"> <div class="container"> © Copyright 2025 Yinghua Zhou. Template from <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a>. Last updated: September, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?9ea77dd81bce838cf90bb488b503a8f4"></script> <script defer src="/assets/js/mathjax-enhanced.js?0970606cfccbaf782dec0327f6d7d1f0"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/math-links-fix.js?664c6767190f6ce453eb74accd06fd88"></script> <script defer src="/assets/js/mathjax-spacing-fix.js?da573ad73b6df0501ff921517dd30d9f"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>